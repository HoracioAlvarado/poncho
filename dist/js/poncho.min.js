function ponchoTable(e){var a,o,t=[],n=[],r=[],s=[],i="",l=[],c="";function d(o){jQuery.getJSON(o,function(o){t=o.values,jQuery.each(Object.keys(t[0]),function(e,a){t[0][a]&&(n.push(t[0][a]),r.push(a),i+="<th>"+t[1][a]+"</th>",l.push(t[1][a]))}),jQuery("#ponchoTable caption").html(e.tituloTabla),jQuery("#ponchoTable thead tr").empty(),jQuery("#ponchoTable thead tr").append(i),jQuery.each(t,function(e,o){if(e>1){var r="",i="";jQuery.each(n,function(o,c){var d="",p=t[e][o];if(n[o].includes("btn-")&&p){var u=t[0][o].replace("btn-","").replace("-"," ");p='<a aria-label="'+u+'" class="btn btn-primary btn-sm margin-btn" target="_blank" href="'+p+'">'+u+"</a>"}if(n[o].includes("filtro-")&&p){a=o;var b=t[1][o];jQuery("#tituloFiltro").html(b),s.push(p)}if(n[o].includes("fecha-")&&p){var f=p.split("/");p='<span style="display:none;">'+new Date(f[2],f[1]-1,f[0]).toISOString().split("T")[0]+"</span>"+p}p||(p="",d="hidden-xs"),r+=p,p=(new showdown.Converter).makeHtml(p),i+='<td class="'+d+'" data-title="'+l[o]+'">'+p+"</td>"}),""!=r&&(c+="<tr>",c+=i,c+="</tr>")}}),jQuery.each(s.filter(function(e,a,o){return a===o.indexOf(e)}),function(e,a){jQuery("#ponchoTableFiltro").append("<option>"+a+"</option>")}),jQuery("#ponchoTable tbody").empty(),jQuery("#ponchoTableSearchCont").show(),jQuery("#ponchoTable tbody").append(c),jQuery("#ponchoTable").removeClass("state-loading"),function(){function o(e){return e.replace(/έ/g,"ε").replace(/[ύϋΰ]/g,"υ").replace(/ό/g,"ο").replace(/ώ/g,"ω").replace(/ά/g,"α").replace(/[ίϊΐ]/g,"ι").replace(/ή/g,"η").replace(/\n/g," ").replace(/[áÁ]/g,"a").replace(/[éÉ]/g,"e").replace(/[íÍ]/g,"i").replace(/[óÓ]/g,"o").replace(/[úÚ]/g,"u").replace(/ê/g,"e").replace(/î/g,"i").replace(/ô/g,"o").replace(/è/g,"e").replace(/ï/g,"i").replace(/ü/g,"u").replace(/ã/g,"a").replace(/õ/g,"o").replace(/ç/g,"c").replace(/ì/g,"i")}var t=jQuery.fn.DataTable.ext.type.search;t.string=function(e){return e?"string"==typeof e?o(e):e:""},t.html=function(e){return e?"string"==typeof e?o(e.replace(/<.*?>/g,"")):e:""},jQuery.isFunction(jQuery.fn.DataTable.ext.order.intl)&&(jQuery.fn.DataTable.ext.order.intl("es"),jQuery.fn.DataTable.ext.order.htmlIntl("es"));var n=jQuery("#ponchoTable").DataTable({lengthChange:!1,autoWidth:!1,pageLength:e.cantidadItems,columnDefs:[{type:"html-num",targets:e.tipoNumero},{targets:e.ocultarColumnas,visible:!1}],ordering:e.orden,order:[[e.ordenColumna-1,e.ordenTipo]],dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'i>><'row'<'col-sm-12'tr>><'row'<'col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8'p>>",language:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"_TOTAL_ resultados",sInfoEmpty:"No hay resultados",sInfoFiltered:"",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:".",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"<<",sLast:">>",sNext:">",sPrevious:"<"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente",paginate:{first:"Ir a la primera página",previous:"Ir a la página anterior",next:"Ir a la página siguiente",last:"Ir a la última página"}}}});jQuery(document).ready(function(){jQuery("#ponchoTableSearch").keyup(function(){n.search(jQuery.fn.DataTable.ext.type.search.string(this.value)).draw()})}),jQuery("#ponchoTable_filter").parent().parent().remove(),jQuery("#ponchoTableFiltro option").length>1&&jQuery("#ponchoTableFiltroCont").show();jQuery("#ponchoTableFiltro").on("change",function(){var e=jQuery.fn.DataTable.ext.type.search.string(jQuery(this).val());""!=e?n.column(a).every(function(){this.search(e?"^"+e+"$":"",!0,!1).draw()}):n.search("").columns().search("").draw()})}()})}jQuery.fn.DataTable.isDataTable("#ponchoTable")&&jQuery("#ponchoTable").DataTable().destroy(),e.jsonUrl?d(e.jsonUrl):(o=e.hojaNumero,jQuery.getJSON("https://sheets.googleapis.com/v4/spreadsheets/"+e.idSpread+"/?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY",function(a){var t=a.sheets[o-1].properties.title;d("https://sheets.googleapis.com/v4/spreadsheets/"+e.idSpread+"/values/"+t+"?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY")}))}jQuery("#ponchoTable").addClass("state-loading");var opt={tipoMapa:"roadmap"};function ponchoMaps(e){var a,o={center:{lat:-39.6930895,lng:-57.2432742},zoom:5,mapTypeId:e.tipoMapa,styles:[{featureType:"administrative.country",stylers:[{visibility:"on"}]},{featureType:"poi",stylers:[{visibility:"off"}]}]},t=new google.maps.Map(document.getElementById("map"),o);jQuery.getJSON("https://spreadsheets.google.com/feeds/list/"+e.idSpreadheet+"/"+e.hojaNumero+"/public/values?alt=json",function(o){var n=["metricas.mod@gmail.com","modernizacion.ux@gmail.com","contenidosgobar@gmail.com"];jQuery.each(o.feed.author,function(e,a){-1==n.indexOf(a.email.$t)&&(jQuery("body").remove(),window.location.replace("http://www.argentina.gob.ar"))}),a=o.feed.entry;var r=[],s=[],i=['<?xml version="1.0"?>','<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="286.818px" height="396.798px" viewBox="63.14 8.15 286.818 396.798" enable-background="new 63.14 8.15 286.818 396.798" xml:space="preserve">','<path stroke="#FFF" stroke-width="10" fill="{{ color }}" d="M206.549,20.359L206.549,20.359c-74.459,0-134.584,60.126-134.584,134.584c0,25.961,8.293,50.751,19.832,71.122l87.71,151.801c5.499,9.916,16.586,14.874,27.043,14.874c10.458,0,21.003-4.958,27.043-14.874l87.71-151.711c11.629-20.373,19.832-44.712,19.832-71.124C341.133,80.574,281.008,20.359,206.549,20.359z M206.549,206.978c-33.804,0-61.41-27.606-61.41-61.41s27.606-61.41,61.41-61.41s61.41,27.606,61.41,61.41C267.959,179.484,240.353,206.978,206.549,206.978z"/>',"</svg>"].join("\n"),l={azul:{hex:"#0072BB"},verde:{hex:"#2E7D33"},rojo:{hex:"#C62828"},gris:{hex:"#707070"},fucsia:{hex:"#EC407A"},arandano:{hex:"#C2185B"},uva:{hex:"#6A1B99"},cielo:{hex:"#039BE5"},verdin:{hex:"#6EA100"},lima:{hex:"#CDDC39"},maiz:{hex:"#FFCE00"},tomate:{hex:"#EF5350"},"naranja oscuro":{hex:"#EF6C00"},"verde azulado":{hex:"#008388"}};jQuery.each(a,function(a,o){var n=o.gsx$color.$t.toLowerCase(),d=i.replace("{{ color }}",l[n].hex),p=new google.maps.LatLng(o.gsx$latitud.$t,o.gsx$longitud.$t),u=new google.maps.Marker({position:p,title:o.gsx$nombre.$t,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(d),scaledSize:new google.maps.Size(40,40)},optimized:!1});r.push(u);var b="",f="",g="",h="",m="",v="";(""==o.gsx$provincia.$t&&""==o.gsx$localidad.$t||(m='<div class="separarGuiones"><i class="fa fa-map-marker"></i><span>'+o.gsx$direccion.$t+"</span><span>"+o.gsx$localidad.$t+"</span><span>"+o.gsx$provincia.$t+"</span></div>"),""!=o.gsx$telefono.$t&&(b="<div><i class='fa fa-phone'></i>"+o.gsx$telefono.$t+"</div>"),""!=o.gsx$email.$t&&(f="<div><i class='fa fa-envelope'></i>"+o.gsx$email.$t+"</div>"),""!=o.gsx$descripcion.$t)&&(h="<div>"+(new showdown.Converter).makeHtml(o.gsx$descripcion.$t)+"</div>");""!=o.gsx$boton.$t&&(g="<hr><a class='btn btn-success btn-sm' href="+o.gsx$boton.$t+">"+e.textoBoton+"</a>"),null!=o.gsx$foto&&(v='<img width="100%" src="'+o.gsx$foto.$t+'">'),s[a]=new google.maps.InfoWindow({content:'<div class="media"><div class="media-body"><small class="text-primary">'+o.gsx$tipo.$t+"</small><h4>"+o.gsx$nombre.$t+"</h4> "+v+h+m+b+f+g+"</div></div>",maxWidth:300}),r[a].addListener("click",function(){c(),s[a].open(t,r[a])}),jQuery("#map-container").removeClass("state-loading"),u.setMap(t)});var c=function(){for(var e=0;e<s.length;e++)s[e].close()};if("si"==e.agrupar)new MarkerClusterer(t,r,{enableRetinaIcons:!0,imageSizes:[20,30,40,50,60,70],maxZoom:10,gridSize:50,styles:[{textColor:"white",url:"https://www.argentina.gob.ar/sites/default/files/cluster_ponchomaps.png",width:45,height:45}]})})}var content_popover=document.getElementById("content-popover");function popshow(){content_popover.classList.toggle("hidden")}function pophidde(){content_popover.classList.add("hidden")}var ponchoUbicacion=function(e){var a,o,t,n,r="/profiles/argentinagobar/themes/contrib/poncho/resources/jsons/geoprovincias.json",s="/profiles/argentinagobar/themes/contrib/poncho/resources/jsons/geolocalidades.json",i=jQuery('input[name="submitted['+e.provincia+']"]'),l=jQuery('input[name="submitted['+e.localidad+']"]');function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e,a,o,t=!1,n=!1){var r=jQuery("<select></select>").attr("id",a).attr("name",e).addClass("form-control form-select").prop("required",t);return n&&r.append("<option value=''>Seleccione una opción</option>"),jQuery.each(o,function(e,a){r.append("<option value='"+a.id+"'>"+a.nombre+"</option>")}),r}function p(e,a){var o=l.prop("required"),t=d("sLocalidades","sLocalidades",[],o,!0);return a&&(t=d("sLocalidades","sLocalidades",e.filter(function(e){return String(e.provincia.id)==String(a)}).map(function(e){return e.departamento.nombre&&(e.nombre=c(e.departamento.nombre.toLowerCase())+" - "+c(e.nombre.toLowerCase())),e}).sort(function(e,a){var o=e.nombre.toUpperCase(),t=a.nombre.toUpperCase();return o.localeCompare(t)}),o)),t}r=e.urlProvincias?e.urlProvincias:r,s=e.urlLocalidades?e.urlLocalidades:s,jQuery.getJSON(r,function(e){a=function(e){return a=[],e.results.forEach(function(e,o){a.push(e)}),a}(e),(t=function(e){var a=[];a=e.sort(function(e,a){var o=e.nombre.toUpperCase(),t=a.nombre.toUpperCase();return o.localeCompare(t)});var o=i.prop("required");return d("sProvincias","sProvincias",a,o,!0)}(a)).on("change",function(e){if(i.val(""),l.val(""),n.children("option:not(:first)").remove(),""!=t.val()){i.val(t.find(":selected").text());var a=p(o,t.val()),r=a.find("option");n.append(r),n.val("")}}),i.after(t),jQuery(t).select2()}),jQuery.getJSON(s,function(e){o=function(e){return o=[],e.results.forEach(function(e,a){o.push(e)}),o}(e),(n=p(o,"")).on("change",function(e){l.val(""),""!=n.val()&&l.val(n.find(":selected").text())}),l.after(n),jQuery(n).select2()}),i.hide(),l.hide()};function ponchoChart(e){"use strict";if(function(e){var a=!1;(e.idSpread&&e.hojaNombre||e.jsonUrl||e.jsonInput)&&void 0!==e.tipoGrafico&&""!=e.tipoGrafico&&void 0!==e.idComponenteGrafico&&""!=e.idComponenteGrafico&&""!=o(e.tipoGrafico)&&(a=!0);return a}(e))if(e.jsonInput)console.log(e.jsonInput),r(jQuery.parseJSON(e.jsonInput),e);else{var a=e.jsonUrl?e.jsonUrl:"https://sheets.googleapis.com/v4/spreadsheets/"+e.idSpread+"/values/"+e.hojaNombre+"?alt=json&key=AIzaSyCq2wEEKL9-6RmX-TkW23qJsrmnFHFf5tY";jQuery.getJSON(a,function(a){r(a,e)})}else void 0!==e.idSpread&&""!=e.idSpread||console.log("Completar valor para la opción de Configuración idSpread"),void 0!==e.hojaNombre&&""!=e.hojaNombre||console.log("Completar valor para la opción de Configuración hojaNombre"),void 0!==e.tipoGrafico&&""!=e.tipoGrafico||console.log("Completar valor para la opción de Configuración tipoGrafico"),void 0!==e.idComponenteGrafico&&""!=e.idComponenteGrafico||console.log("Completar valor para la opción de Configuración idComponenteGrafico"),""==o(e.tipoGrafico)&&console.log("Ingrese un tipo de gafico válido");function o(e){var a="";return"Line"==e&&(a="line"),"Bar"==e&&(a="bar"),"Pie"==e&&(a="pie"),"Area"==e&&(a="line"),"Horizontal Bar"==e&&(a="horizontalBar"),"Stacked Bar"==e&&(a="bar"),"Mixed"==e&&(a="mixed"),"HeatMap"==e&&(a="heatmap"),a}function t(e){var a="";switch(e){case"celeste":a="#2897d4";break;case"verde":a="#2e7d33";break;case"rojo":a="#c62828";break;case"amarillo":a="#f9a822";break;case"azul":a="#0072bb";break;case"negro":a="#333";break;case"uva":a="#6a1b99";break;case"gris":a="#525252";break;case"grisintermedio":a="#f2f2f2";break;case"celesteargentina":a="#37bbed";break;case"fucsia":a="#ec407a";break;case"arandano":a="#c2185b";break;case"uva":a="#6a1b99";break;case"cielo":a="#039be5";break;case"verdin":a="#6ea100";break;case"lima":a="#cddc39";break;case"maíz":a="#ffce00";break;case"tomate":a="#ef5350";break;case"naranjaoscuro":a="#EF6C00";break;case"verdeazulado":a="#008388";break;case"escarapela":a="#2cb9ee";break;case"lavanda":a="#9284be";break;case"mandarina":a="#f79525";break;case"palta":a="#50b7b2";break;case"cereza":a="#ed3d8f";break;case"limon":a="#d7df23";break;case"verdejade":a="#066";break;case"verdealoe":a="#4fbb73";break;case"verdecemento":a="#b4beba";break;default:console.log("No existe color "+e)}return a}function n(e){var a=e.toString().replace(".",","),o=a.split(","),t=new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(o[0]);return a=o.length>1?t.concat(",",o[1]):t}function r(e,a){var r=[],s=[],i=[],l="",c=[],d=[],p=[],u=[],b=[],f=0,g="",h=[],m=0,v=[],y=[],x=0,C=a.posicionLeyendas?a.posicionLeyendas:"top",j="";j=void 0===a.mostrarLeyendas||a.mostrarLeyendas;var k="";k=void 0===a.mostrarTotalStacked||a.mostrarTotalStacked;var w,T,I=o(a.tipoGrafico),Q=e.values;if(jQuery.each(Object.keys(Q[0]),function(e,a){if("eje-y"==Q[0][e].substr(0,5)){var o=Q[0][e].split("-"),t=o[0]+o[1];s.push(t),i.push(e)}else"nombre-corto"==Q[0][e]&&"heatmap"==I&&(x=e)}),jQuery.each(Q,function(e,a){if(0==e&&jQuery.each(i,function(a,o){var t=Q[e][i[a]].split("-"),n=t[0]+t[1];u[n]=[],c.push(t[2]),"mixed"==I&&(t.length>3&&("barra"==t[3]||"linea"==t[3])?h.push(t[3]):(0==a&&h.push("barra"),1==a&&h.push("linea")))}),1==e&&jQuery.each(i,function(a,o){"pie"!=I?"heatmap"==I?r.push(Q[e][i[a]]):(p.push(Q[e][i[a]]),f+=1):r.push(Q[e][i[a]])}),e>1){var o=!1;jQuery.each(i,function(a,t){var n=Q[0][i[a]].split("-"),s=n[0]+n[1];"pie"==I?u[s].push(Q[e][i[a]]):"heatmap"==I?(0==o&&(p.push(Q[e][0]),o=!0,f+=1),a!=x&&u[s].push(Q[e][i[a]]),a+2==x&&(void 0===Q[e][a+2]?y.push("*"):y.push(Q[e][a+2]))):(0==o&&(r.push(Q[e][0]),o=!0),u[s].push(Q[e][i[a]]))})}}),"pie"==I){var $=[];jQuery.each(Object.keys(s),function(e,a){var o=s[e];u.hasOwnProperty(o)&&$.push(u[o])}),b=$}else 1==f&&jQuery.each(Object.keys(s),function(e,a){var o=s[e];u.hasOwnProperty(o)&&(b=u[o])});if("mixed"==I){var S=a.porcentajesMixed?a.porcentajesMixed:"";S.length>0&&(v=S.split(","))}if(g=1==a.porcentajes?"line"==I&&f>1?{enabled:!0,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o+"%"}},mode:"index",intersect:!1}:"pie"==I?{enabled:!0,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.labels[e.index]+": "+o+"%"}}}:"Stacked Bar"==a.tipoGrafico&&1==k?{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o+"%"},footer:(e,a)=>{let o=e.reduce((e,a)=>e+parseFloat(a.yLabel),0);return"Total: "+new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(o)+"%"}}}:{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o+"%"}}}:"line"==I&&f>1?{enabled:!0,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o}},mode:"index",intersect:!1}:"pie"==I?{enabled:!0,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.labels[e.index]+": "+o}}}:"Stacked Bar"==a.tipoGrafico&&f>1?1==k?{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o},footer:(e,a)=>{let o=e.reduce((e,a)=>e+parseFloat(a.yLabel),0);return"Total: "+new Intl.NumberFormat("es-AR",{maximumFractionDigits:2}).format(o)}}}:{enabled:!0,mode:"index",intersect:!1,callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o}}}:{enabled:!0,mode:"index",callbacks:{label:function(e,a){var o=a.datasets[e.datasetIndex].data[e.index];return o=n(o),a.datasets[e.datasetIndex].label+": "+o}}},"pie"==I&&(c.forEach(function(e,a,o){d.push(t(e))}),console.log("etiquetas --\x3e "+r),console.log("datos --\x3e "+b),console.log("colores --\x3e "+d),function(e,a,o,t,n,r,s,i){const l=document.getElementById(n);new Chart(l,{type:o,data:{labels:e,datasets:[{data:a,borderColor:t,backgroundColor:t,borderWidth:2}]},options:{legend:{display:i,position:r},responsive:!0,tooltips:s}})}(r,b,I,d,a.idComponenteGrafico,C,g,j)),1==f&&(console.log("etiquetas --\x3e "+r),console.log("datos --\x3e "+b),l=t(c[0]),console.log("color --\x3e "+l),"Line"==a.tipoGrafico&&function(e,a,o,t,n,r,s,i,l,c){const d=document.getElementById(s);new Chart(d,{type:o,data:{labels:e,datasets:[{data:a,borderColor:t,backgroundColor:t,borderWidth:2,lineTension:0,fill:!1,label:n}]},options:{legend:{display:c,position:i},tooltips:l,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:r}}]}}})}(r,b,I,l,p[0],a.ejeYenCero,a.idComponenteGrafico,C,g,j),"bar"!=I&&"Area"!=a.tipoGrafico||function(e,a,o,t,n,r,s,i,l,c){const d=document.getElementById(s);new Chart(d,{type:o,data:{labels:e,datasets:[{data:a,borderColor:t,backgroundColor:t,borderWidth:2,lineTension:0,label:n}]},options:{legend:{display:c,position:i},tooltips:l,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:r}}]}}})}(r,b,I,l,p[0],a.ejeYenCero,a.idComponenteGrafico,C,g,j),"horizontalBar"==I&&function(e,a,o,t,n,r,s,i,l,c){const d=document.getElementById(s);new Chart(d,{type:o,data:{labels:e,datasets:[{data:a,borderColor:t,backgroundColor:t,borderWidth:2,lineTension:0,label:n}]},options:{legend:{display:c,position:i},tooltips:l,responsive:!0,scales:{xAxes:[{ticks:{beginAtZero:r}}]}}})}(r,b,I,l,p[0],a.ejeYenCero,a.idComponenteGrafico,C,g,j)),f>1)if("heatmap"==I)if(void 0!==a.heatMapColors&&""!=a.heatMapColors&&void 0!==a.heatMapColorsRange&&""!=a.heatMapColorsRange){var A=[],G="labelFila",E="labelColumna",L="labelValor";void 0!==a.datosTooltip&&a.datosTooltip.length>0&&(void 0!==a.datosTooltip[0]&&void 0!==a.datosTooltip[0].labelFila&&(G=a.datosTooltip[0].labelFila),void 0!==a.datosTooltip[1]&&void 0!==a.datosTooltip[1].labelColumna&&(E=a.datosTooltip[1].labelColumna),void 0!==a.datosTooltip[2]&&void 0!==a.datosTooltip[2].labelValor&&(L=a.datosTooltip[2].labelValor)),jQuery.each(Object.keys(s),function(e,a){var o=s[e];u.hasOwnProperty(o)&&(b=u[o],A.push(b))});for(var F=[],B=0;B<p.length;B++){e=[];for(var M=0;M<r.length;M++){b={x:r[M],y:parseInt(A[M][B])};e.push(b)}var N={name:"*"!=y[B]?y[B]:p[B],data:e};F.push(N)}var z=[];for(B=0;B<a.heatMapColorsRange.length-1;B++){e={from:a.heatMapColorsRange[B],to:a.heatMapColorsRange[B+1],color:t(a.heatMapColors[B])};z.push(e)}var O="";O=void 0===a.mostrarEjeY||a.mostrarEjeY,function(e,a,o,t,r,s,i,l,c,d,p,u){const b=document.getElementById(o);new ApexCharts(b,{series:a,chart:{height:650,type:"heatmap"},dataLabels:{enabled:!1},title:{text:c},tooltip:{custom:function({series:e,seriesIndex:a,dataPointIndex:o,w:r}){var c=e[a][o];return c=n(c),'<div class="arrow_box"><span>'+s+": "+t[a]+"<br>"+i+": "+r.globals.labels[o]+"<br>"+l+": "+c+"</span></div>"}},plotOptions:{heatmap:{shadeIntensity:.5,radius:0,useFillColorAsStroke:!1,colorScale:{ranges:r}}},yaxis:{show:d},legend:{show:u,position:p},responsive:[{breakpoint:1e3,options:{yaxis:{show:!1},legend:{show:u,position:"top"}}}]}).render();const f=document.getElementsByClassName("apexcharts-toolbar");for(let e=0;e<f.length;e++)f[e].style.display="none"}(0,F,a.idComponenteGrafico,p,z,G,E,L,a.tituloGrafico,O,C,j)}else void 0!==a.heatMapColors&&""!=a.heatMapColors||console.log("Completar vector con valores para los colores"),void 0!==a.heatMapColorsRange&&""!=a.heatMapColorsRange||console.log("Completar vector con el rango de valores para los colores");else{var D=[],R=0;c.forEach(function(e,a,o){d.push(t(e))}),console.log("colores --\x3e "+d);var P=0;jQuery.each(Object.keys(s),function(e,o){var t=s[e];if(u.hasOwnProperty(t)){if(b=u[t],console.log("datos --\x3e "+b),"Line"==a.tipoGrafico)var n={label:p[R],data:b,borderColor:d[R],fill:!1,borderWidth:2,lineTension:0,backgroundColor:d[R]};else if("Bar"==a.tipoGrafico||"Area"==a.tipoGrafico||"Horizontal Bar"==a.tipoGrafico||"Stacked Bar"==a.tipoGrafico)n={label:p[R],data:b,borderColor:d[R],backgroundColor:d[R],borderWidth:2,lineTension:0};else if("Mixed"==a.tipoGrafico){var r=h[P];if("barra"==r)n={label:p[R],data:b,backgroundColor:d[R],yAxisID:"left-y-axis",type:"bar"};else if("linea"==r)n={label:p[R],data:b,borderColor:d[R],backgroundColor:d[R],type:"line",yAxisID:"right-y-axis",fill:!1}}D.push(n),R+=1,P+=1}}),"mixed"==I&&(2==v.length?m=2:1==v.length?"eje-y1"==v[0]?m=0:"eje-y2"==v[0]&&(m=1):m=3),console.log("etiquetas --\x3e "+r),console.log("toltip --\x3e"+JSON.stringify(g)),"Stacked Bar"==a.tipoGrafico?function(e,a,o,t,n,r,s,i){const l=document.getElementById(t);new Chart(l,{type:a,data:{labels:e,datasets:o},options:{legend:{display:i,position:r,labels:{textAlign:"center"}},tooltips:s,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:n},stacked:!0}],xAxes:[{stacked:!0}]}}})}(r,I,D,a.idComponenteGrafico,a.ejeYenCero,C,g,j):"Mixed"==a.tipoGrafico?function(e,a,o,t,r,s,i,l,c,d){const p=document.getElementById(t);new Chart(p,{type:a,data:{labels:e,datasets:o},options:{legend:{display:d,position:s,labels:{textAlign:"center"}},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,a){var o="";2==i?o="%":e.datasetIndex==i&&(o="%");var t=n(e.yLabel);return a.datasets[e.datasetIndex].label+": "+t+" "+o}}},responsive:!0,scales:{yAxes:[{id:"left-y-axis",type:"linear",position:"left",ticks:{beginAtZero:r,callback:function(e){var a="";return 1!=i&&2!=i||(a="%"),e+a}},scaleLabel:{display:!0,labelString:c,fontColor:"black"}},{id:"right-y-axis",type:"linear",position:"right",ticks:{beginAtZero:r,callback:function(e){var a="";return 0!=i&&2!=i||(a="%"),e+a}},scaleLabel:{display:!0,labelString:l,fontColor:"black"}}]}}})}(r,"bar",D,a.idComponenteGrafico,a.ejeYenCero,C,m,p[0],p[1],j):"Horizontal Bar"==a.tipoGrafico?function(e,a,o,t,n,r,s,i){const l=document.getElementById(t);new Chart(l,{type:a,data:{labels:e,datasets:o},options:{legend:{display:i,position:r,labels:{textAlign:"center"}},tooltips:s,responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{ticks:{beginAtZero:n}}]}}})}(r,I,D,a.idComponenteGrafico,a.ejeYenCero,C,g,j):function(e,a,o,t,n,r,s,i){const l=document.getElementById(t);new Chart(l,{type:a,data:{labels:e,datasets:o},options:{legend:{display:i,position:r,labels:{textAlign:"center"}},tooltips:s,responsive:!0,maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:n}}]}}})}(r,I,D,a.idComponenteGrafico,a.ejeYenCero,C,g,j)}""!=a.tituloGrafico&&void 0!==a.tituloGrafico&&(w=a.idTagTituloGrafico,T=a.tituloGrafico,document.getElementById(w)&&(document.getElementById(w).innerHTML=T))}}function gapi_legacy(e){const a=e.values[0],o=/ |\/|_/gi;let t=[];return e.values.forEach((e,n)=>{if(n>0){let n={};for(var r in a){var s=e.hasOwnProperty(r)?e[r].trim():"";n[`gsx$${a[r].toLowerCase().replace(o,"")}`]={$t:s}}t.push(n)}}),{feed:{entry:t}}}
